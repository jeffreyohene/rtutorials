---
title: "Regression"
output:
  learnr::tutorial:
    language: de
    css: css/boxes.css
    fig_caption: no
runtime: shiny_prerendered
bibliography: ref.json
link-citations: TRUE
description: Einführung in die einfache lineare Regression.
resource_files:
- css/boxes.css
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
```

## Inhalt

-   Vorannahmen der Regression prüfen

## Lernziele

## Regression

Ein Beispiel:

Als Förster\*in möchtest du gerne wissen, wie viele Kubikmeter Holz du von einem bestimmten Baum voraussichtlich ernten kannst. Gegeben ist dir für diese Vorhersage lediglich der Durchmesser des Baums.

Wir könnten das erwartete Volumen durch eine mathematische Formel aus dem Durchmesser berechnen. Genau das werden wir heute machen.

Dieses Verfahren nennt man auch modellieren (engl. *to fit a model*). Unser statistisches Modell sagt für einen gegebenen Durchmesser eine erwartete Holzernte voraus.

Dabei beschränken wir uns in diesem Kurs auf ein lineares Modell, das heißt, der Zusammenhang zwischen Durchmesser und vorausgesagter Holzmenge wird durch eine lineare Funktion beschrieben.

Die lineare Funktion kennen sicher alle noch aus der Schule, ca. 8. Klasse:

$$
\hat y = b_0 + b_1\cdot x_1
$$

oder in leicht abgewandelter Form:

$$
y = mx + n
$$

oder:

$$
y = a + bx
$$

Dabei steht $\hat y$ für den durch das Modell vorhergesagten Wert, auch engl. "*response variable"* genannt, "*output variable"* oder Kriterium. Im Beispiel wäre es das Holzvolumen in m³.

$x$ ist der Prädiktor, oder unser *input*, im Beispiel der Baumdurchmesser in Inches.

Daraus ergibt sich für uns folgendes Modell:

$$
\hat{Volumen} = b_0 + b_1 \cdot Durchmesser 
$$

::: infobox
Ein Dach über der Variable kennzeichnet immer, dass es sich hier um einen geschätzten Wert handelt.
:::

Um die Parameter $b_0$ und $b_1$ zu bestimmen, brauchen wir zunächst Daten, anhand derer das Modell "trainiert" wird.

Die sind uns gegeben in Form des `trees`-Datensatzes, der in Base R eingebaut ist. Dafür wurden 31 Amerikanische Traubenkirschen (*Prunus serotina*) ([wiki](https://de.wikipedia.org/wiki/Sp%C3%A4tbl%C3%BChende_Traubenkirsche)) gefällt und Durchmesser und geerntetes Holzvolumen gemessen.

```{r echo=TRUE}
plot(trees$Girth, trees$Volume)
```

::: infobox
Der Durchmesser heißt in den Daten fälschlicherweise `Girth`, bezieht sich aber nicht auf den Umfang sondern den Durchmesser. (siehe `?trees`)In einem schnellen Scatterplot können wir die Beziehung zwischen Durchmesser und Volumen visuell überprüfen.
:::

Die Modellparameter $b_0$ und $b_1$ werden so bestimmt, dass sie eine Gerade beschreiben, die möglichst nah an allen Punkten dran ist. Mathematisch ausgedrückt, so dass der quadrierte Abstand zwischen vorhergesagten und tatsächlichen Werten minimal ist.

Wenn es fertig ist, sieht es so aus:

```{r echo=TRUE}
plot(trees$Girth, trees$Volume)
abline(lm(Volume ~ Girth, data = trees))
```

## Abschlussquiz

## Learnings
